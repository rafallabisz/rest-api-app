(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t.p+"static/media/image.b4f9a703.jpg"},29:function(e,a,t){e.exports=t(47)},45:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(8),s=t.n(r),d=t(10),i=t(14),o=t.n(i),c=t(13),m=t(21),u=t(22),h=t(23),f=t(27),E=t(24),v=t(28),p=t(54),N=t(59),U=t(48),_=t(49),g=t(50),M=t(51),b=t(52),y=t(53),C=function(e){var a=e.state,t=a.addUserModal,n=a.value_firstName,r=a.value_lastName;return l.a.createElement(N.a,{isOpen:t,toggle:e.handleAddUserModal},l.a.createElement(U.a,{toggle:e.handleAddUserModal},"Add a new user"),l.a.createElement(_.a,null,l.a.createElement(g.a,null,l.a.createElement(M.a,{for:"firstName"},"First Name"),l.a.createElement(b.a,{id:"firstName",name:"value_firstName",maxLength:"20",value:n,onChange:e.handleInput})),l.a.createElement(g.a,null,l.a.createElement(M.a,{for:"lastName"},"Last Name"),l.a.createElement(b.a,{id:"lastName",name:"value_lastName",maxLength:"20",value:r,onChange:e.handleInput}))),l.a.createElement(y.a,null,l.a.createElement(p.a,{color:"primary",onClick:e.addUser},"Add User")," ",l.a.createElement(p.a,{color:"secondary",onClick:e.handleAddUserModal},"Cancel")))},w=function(e){var a=e.state,t=a.editUserModal,n=a.value_firstName,r=a.value_lastName,s=a.value_id;return l.a.createElement(N.a,{isOpen:t,toggle:e.handleEditUserModal},l.a.createElement(U.a,{toggle:e.handleEditUserModal},"User edition"),l.a.createElement(_.a,null,l.a.createElement(g.a,null,l.a.createElement(M.a,{for:"firstName"},"First Name"),l.a.createElement(b.a,{id:"firstName",name:"value_firstName",maxLength:"20",value:n,onChange:e.handleInput})),l.a.createElement(g.a,null,l.a.createElement(M.a,{for:"lastName"},"Last Name"),l.a.createElement(b.a,{id:"lastName",name:"value_lastName",maxLength:"20",value:r,onChange:e.handleInput})),l.a.createElement(g.a,null,l.a.createElement(M.a,{for:"id"},"ID"),l.a.createElement(b.a,{id:"id",name:"value_id",type:"number",maxLength:"20",value:s,onChange:e.handleInput}))),l.a.createElement(y.a,null,l.a.createElement(p.a,{color:"primary",onClick:e.editUser},"Edit User")," ",l.a.createElement(p.a,{color:"secondary",onClick:e.handleEditUserModal},"Cancel")))},O=t(55),k=function(e){var a=e.state.users.map(function(a){return l.a.createElement("tr",{key:a.id},l.a.createElement("td",null,a.id),l.a.createElement("td",null,l.a.createElement("img",{src:a.avatar,alt:"avatar",className:"image"})),l.a.createElement("td",{className:"letter"},a.first_name.toLowerCase()),l.a.createElement("td",{className:"letter"},a.last_name.toLowerCase()),l.a.createElement("td",null,l.a.createElement(p.a,{color:"success",size:"sm",className:"mr-2",onClick:function(){return e.handleEditUserModal()}},"Edit"),l.a.createElement(p.a,{color:"danger",size:"sm",onClick:function(){return e.deleteUser(a.id)}},"Delete")))});return l.a.createElement(O.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Avatar"),l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null))),l.a.createElement("tbody",null,a))},A=t(56),I=t(57),L=function(){return l.a.createElement(A.a,{className:"header text-center bg-warning"},l.a.createElement(I.a,{className:"header_col"},"Application"))},j=t(58),S=function(){return l.a.createElement(j.a,{className:"text-center"},"\xa9 2019 Rafa\u0142 Labisz")},x=t(26),T=t.n(x),D="https://reqres.in",J=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(f.a)(this,(e=Object(E.a)(a)).call.apply(e,[this].concat(l)))).state={users:[],err:!1,isLoading:!1,addUserModal:!1,editUserModal:!1,value_id:"",value_firstName:"",value_lastName:""},t.fetchUsers=function(){var e=Object(m.a)(o.a.mark(function e(a,n,l){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(D+a,n,l).then(function(e){return 204===e.status?alert("User of the number id ".concat(l," has been deleted!")):e.ok&&204!==e.status?e.json():void 0}).then(function(e){console.log(n.method,e);var a=t.state,r=a.users,s=a.addUserModal;if("GET"===n.method)t.setState({users:e.data,isLoading:!0,err:!1});else if("POST"===n.method){var d={id:Number(e.id),first_name:e.value_firstName,last_name:e.value_lastName,avatar:T.a};t.setState({users:[].concat(Object(c.a)(r),[d]),addUserModal:!s,isLoading:!0,value_firstName:"",value_lastName:""})}else if("DELETE"===n.method){var i=Object(c.a)(t.state.users),o=i.findIndex(function(e){return e.id===l});i.splice(o,1),t.setState({users:i})}else if("PATCH"===n.method){var m=Object(c.a)(t.state.users);console.log("OK",e);var u=m.findIndex(function(a){return a.id===Number(e.value_id)});console.log(u),-1!==u?(m[u].first_name=e.value_firstName,m[u].last_name=e.value_lastName,t.setState({users:m,editUserModal:!t.state.editUserModal,value_firstName:"",value_lastName:"",value_id:""})):(alert("Id was not found!"),t.setState({value_id:""}))}}).catch(function(e){console.error(e),t.setState({err:!0})});case 2:case"end":return e.stop()}},e)}));return function(a,t,n){return e.apply(this,arguments)}}(),t.addUser=function(){var e=t.state,a=e.value_firstName,n=e.value_lastName;if(!a||!n)return alert("Complete the data!");var l={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({value_firstName:a,value_lastName:n})};t.fetchUsers("/api/users",l)},t.editUser=function(){var e=t.state,a=e.value_firstName,n=e.value_lastName,l=e.value_id;if(!(a&&n&&l))return alert("Complete the data!");var r="/api/users/".concat(l),s={method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({value_firstName:a,value_lastName:n,value_id:l})};t.fetchUsers(r,s)},t.deleteUser=function(e){var a="/api/users/".concat(e),n={method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({id:e})};t.fetchUsers(a,n,e)},t.handleAddUserModal=function(){t.setState(function(e){return{addUserModal:!e.addUserModal,value_firstName:"",value_lastName:""}})},t.handleEditUserModal=function(){t.setState(function(e){return{editUserModal:!e.editUserModal,value_firstName:"",value_lastName:"",value_id:""}})},t.handleInput=function(e){t.setState(Object(d.a)({},e.target.name,e.target.value))},t}return Object(v.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchUsers("/api/users?per_page=5",{method:"GET"})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(L,null),l.a.createElement("div",{className:"container"},l.a.createElement(p.a,{color:"primary",onClick:this.handleAddUserModal},"Add User"),l.a.createElement("main",null,l.a.createElement("section",{className:"panel"},l.a.createElement(C,{state:this.state,handleAddUserModal:this.handleAddUserModal,handleInput:this.handleInput,addUser:this.addUser}),l.a.createElement(k,{state:this.state,deleteUser:this.deleteUser,handleEditUserModal:this.handleEditUserModal}),l.a.createElement(w,{state:this.state,handleEditUserModal:this.handleEditUserModal,handleInput:this.handleInput,editUser:this.editUser})))),l.a.createElement("footer",null,l.a.createElement(S,null)))}}]),a}(n.Component);t(45),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(46);s.a.render(l.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.a8e230de.chunk.js.map